<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown样式预览</title>
    <link id="styleSheet" rel="stylesheet" href="default-style.css">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .controls {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 5px;
        }
        #preview {
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 5px;
            background-color: white;
        }
        .styled-button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 8px 16px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 14px;
            margin: 4px 2px;
            cursor: pointer;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Markdown样式预览工具</h1>
        
        <div class="controls">
            <div>
                <label for="cssSelect">选择CSS样式：</label>
                <select id="cssSelect" onchange="changeCSS()">
                    <option value="default-style.css">default-style.css</option>
                    <option value="book-style.css">book-style.css</option>
                    <option value="none">无样式</option>
                </select>
            </div>
            <div style="margin-top: 10px;">
                <label for="fileInput">选择Markdown文件：</label>
                <input type="file" id="fileInput" accept=".md" onchange="loadMarkdownFile()">
            </div>
            <div style="margin-top: 10px;">
                <button class="styled-button" onclick="loadSampleContent()">加载示例内容</button>
            </div>
        </div>
        
        <div id="preview"></div>
    </div>

    <script>
        // 样式切换
        function changeCSS() {
            const select = document.getElementById('cssSelect');
            const styleSheet = document.getElementById('styleSheet');
            
            if (select.value === 'none') {
                styleSheet.setAttribute('href', '');
            } else {
                styleSheet.setAttribute('href', select.value);
            }
        }
        
        // 加载Markdown文件
        function loadMarkdownFile() {
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0];
            
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    renderMarkdown(e.target.result);
                };
                reader.readAsText(file);
            }
        }
        
        // 渲染Markdown
        function renderMarkdown(content) {
            const preview = document.getElementById('preview');
            preview.innerHTML = marked.parse(content);
        }
        
        // 加载示例内容
        function loadSampleContent() {
            const sampleMarkdown = `# 示例Markdown内容

## 段落示例

这是一个普通段落。这是一个普通段落。这是一个普通段落。这是一个普通段落。这是一个普通段落。这是一个普通段落。这是一个普通段落。

这是另一个段落，看看首行缩进效果。这是另一个段落，看看首行缩进效果。这是另一个段落，看看首行缩进效果。这是另一个段落，看看首行缩进效果。

## 列表示例

### 无序列表

* 列表项一
* 列表项二
* 列表项三
  * 嵌套列表项
  * 另一个嵌套列表项
* 列表项四

### 有序列表

1. 第一项
2. 第二项
3. 第三项
   1. 嵌套有序列表
   2. 第二个嵌套项

## 引用示例

> 这是一个引用块。
> 
> 引用块中的另一个段落。

## 代码示例

\`\`\`javascript
function example() {
  console.log("Hello, world!");
}
\`\`\`

## 表格示例

| 表头1 | 表头2 | 表头3 |
|-------|-------|-------|
| 单元格1 | 单元格2 | 单元格3 |
| 单元格4 | 单元格5 | 单元格6 |

`;
            renderMarkdown(sampleMarkdown);
        }
        
        // 页面加载时显示示例内容
        window.onload = function() {
            loadSampleContent();
        };
    </script>
</body>
</html> 